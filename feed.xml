<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.3">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2018-03-27T16:10:10+02:00</updated><id>/</id><title type="html">Aprendiendo Python</title><subtitle>...vengo de Javascript üßê</subtitle><entry><title type="html">Leyendo y Escribiendo archivos</title><link href="/leyendo-escribiendo-archivos/" rel="alternate" type="text/html" title="Leyendo y Escribiendo archivos" /><published>2018-03-25T13:21:18+02:00</published><updated>2018-03-25T13:21:18+02:00</updated><id>/leyendo-escribiendo-archivos</id><content type="html" xml:base="/leyendo-escribiendo-archivos/">&lt;p&gt;Para leer o escribir archivos en python tenemos que abrir archivos en diferentes modos seg√∫n la acci√≥n que queramos (lectura, escritura‚Ä¶)&lt;/p&gt;

&lt;p&gt;Para abrir archivos utilizamos el m√©todo &lt;a href=&quot;https://docs.python.org/3.5/library/functions.html#open&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;open()&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;El m√©todo &lt;code class=&quot;highlighter-rouge&quot;&gt;open()&lt;/code&gt; devuelve un &lt;code class=&quot;highlighter-rouge&quot;&gt;file object&lt;/code&gt; (llamado &lt;em&gt;file handle&lt;/em&gt;) que depender√° del modo utilizado para abrir el archivo&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Cuando abrimos un archivo en &lt;strong&gt;modo texto&lt;/strong&gt;  (&lt;code class=&quot;highlighter-rouge&quot;&gt;w&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;r&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;wt&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;rt&lt;/code&gt;, etc‚Ä¶) devuelve una instancia de una subclase de &lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.TextIOBase&quot;&gt;&lt;strong&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;io.TextIOBase&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt; (clase base para streams de texto).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Cuando abrimos un archivo en &lt;strong&gt;modo binario&lt;/strong&gt; devuelve una instancia de una subclase de &lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.BufferedIOBase&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;io.BufferedIOBase&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;leer-archivos&quot;&gt;Leer Archivos&lt;/h2&gt;

&lt;p&gt;Al abrir un archivo en modo lectura, se nos devuelve un objeto con acceso a m√©todos tales como:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.BufferedIOBase&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;read(size)&lt;/code&gt;&lt;/a&gt; ‚Üí Lee el archivo y devuelve un &lt;em&gt;string&lt;/em&gt; (&lt;a href=&quot;https://docs.python.org/3.5/library/stdtypes.html#str&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;str&lt;/code&gt;&lt;/a&gt;) del stream con un m√°ximo de &lt;code class=&quot;highlighter-rouge&quot;&gt;size&lt;/code&gt; caracteres. Si &lt;code class=&quot;highlighter-rouge&quot;&gt;size&lt;/code&gt; est√° vacio devuelve hasta &lt;code class=&quot;highlighter-rouge&quot;&gt;EOF&lt;/code&gt; (end of file)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.TextIOBase.readline&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;readline(size)&lt;/code&gt;&lt;/a&gt; ‚Üí Lee el archivo hasta un final de linea o de archivo y devuelve un &lt;em&gt;string&lt;/em&gt; (&lt;a href=&quot;https://docs.python.org/3.5/library/stdtypes.html#str&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;str&lt;/code&gt;&lt;/a&gt;). Con &lt;code class=&quot;highlighter-rouge&quot;&gt;size&lt;/code&gt; fijamos el m√°ximo de caracteres devueltos&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.IOBase.readlines&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;readlines(hint)&lt;/code&gt;&lt;/a&gt; ‚Üí Devuelve una lista de lineas desde el stream&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;data.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/home/ubuntu/workspace/files/relative_data.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para obtener las lineas de un archivo podemos hacer&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'/home/ubuntu/workspace/files/relative_data.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readlines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ['This is my first file\n', 'This file\n', 'contains three lines\n']&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Aunque tambien podemos hacer‚Ä¶&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;f = open('data.txt', 'r')
for line in f:
    print(line)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cuando abrimos un archivo en modo, se genera un cursor que va cambiando su posici√≥n a medida que operamos con el archivo&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;test.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c&quot;&gt;# read the first 4 data ‚Üí 'This'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c&quot;&gt;# read the next 4 data ‚Üí ' is '&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;# read in the rest till end of file ‚Üí 'my first file\nThis file\ncontains three lines\n'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# further reading returns empty sting&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Podemos cambiar la posici√≥n del cursor con el m√©todo &lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.IOBase.seek&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;seek()&lt;/code&gt;&lt;/a&gt; o averiguar su posici√≥n con el m√©todo &lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.IOBase.tell&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tell()&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;escribir-archivos&quot;&gt;Escribir Archivos&lt;/h2&gt;

&lt;p&gt;Al abrir un archivo en modo lectura, se nos devuelve un objeto con acceso a m√©todos tales como:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.TextIOBase.write&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;write(s)&lt;/code&gt;&lt;/a&gt; ‚Üí Escribe el string &lt;code class=&quot;highlighter-rouge&quot;&gt;s&lt;/code&gt; en el stream y devuelve el n√∫mero de caracteres escritos&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3.5/library/io.html#io.IOBase.writelines&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;writelines(lines)&lt;/code&gt;&lt;/a&gt; ‚Üí Escribe una lista de lineas (separadas por &lt;code class=&quot;highlighter-rouge&quot;&gt;\n&lt;/code&gt;) en el stream&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'newfile.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'a'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Hello'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'World'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Welcome'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'To'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'File IO'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writelines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;modos-de-apertura-de-archivos&quot;&gt;Modos de apertura de archivos&lt;/h2&gt;

&lt;h3 id=&quot;modos-b√°sicos&quot;&gt;Modos B√°sicos&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;r&lt;/code&gt; ‚Üí (por defecto) Abre un archivo para lectura&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;w&lt;/code&gt; ‚Üí Abre un archivo para escritura. Crear un nuevo archivo si no existe o lo sobrescribe si ya existe&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;a&lt;/code&gt; ‚Üí Abre un archivo para a√±adir texto al final del archivo si ya existe. Si no existe lo crea.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;modos-extra&quot;&gt;Modos Extra&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;x&lt;/code&gt;	‚Üí Abre un archivo para creaci√≥n exclusiva. Si el archivo ya existe la operaci√≥n falla.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;t&lt;/code&gt;	‚Üí Abre un archivo en modo texto. (default)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;modos-combinados&quot;&gt;Modos Combinados&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;b&lt;/code&gt; (&lt;code class=&quot;highlighter-rouge&quot;&gt;rb&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;wb&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;ab&lt;/code&gt;) ‚Üí Abre archivo en modo binario&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt; ‚Üí Abre archivo para actualizaci√≥n (lectura y escritura)
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;r+&lt;/code&gt; ‚Üí lectura/escritura (si el archivo no existe, lanzar√° un error. Si existe sobrescribe el archivo)&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;w+&lt;/code&gt; ‚Üí lectura/escritura (si el archivo no existe, se crea. Si existe sobrescribe el archivo)&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;a+&lt;/code&gt; ‚Üí lectura/a√±adir (si el archivo no existe, se crea. Si existe a√±ade el contenido al final)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;recursos&quot;&gt;Recursos&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.programiz.com/python-programming/file-operation&quot;&gt;https://www.programiz.com/python-programming/file-operation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="read" /><category term="write" /><category term="open" /><category term="readline" /><category term="writelines" /><summary type="html">Para leer o escribir archivos en python tenemos que abrir archivos en diferentes modos seg√∫n la acci√≥n que queramos (lectura, escritura‚Ä¶)</summary></entry><entry><title type="html">Ruta y Directorio del archivo actual</title><link href="/ruta-directorio-archivo-actual/" rel="alternate" type="text/html" title="Ruta y Directorio del archivo actual" /><published>2018-03-24T12:21:18+01:00</published><updated>2018-03-24T12:21:18+01:00</updated><id>/ruta-directorio-archivo-actual</id><content type="html" xml:base="/ruta-directorio-archivo-actual/">&lt;p&gt;Utilizando la variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;__file__&lt;/code&gt; podemos averiguar para cada archivo tanto el nombre del archivo en cuestion como el directorio en el que se encuentra (y su directorio padre)&lt;/p&gt;

&lt;p&gt;Para ello el modulo &lt;a href=&quot;https://docs.python.org/2/library/os.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;os&lt;/code&gt;&lt;/a&gt; nos ofrece el m√©todo &lt;a href=&quot;https://docs.python.org/2/library/os.path.html#module-os.path&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;path&lt;/code&gt;&lt;/a&gt; con una serie de m√©todos muy √∫tiles para este objetivo:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/2/library/os.path.html#os.path.join&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;join()&lt;/code&gt;&lt;/a&gt; ‚Üí Junta trozos de rutas para generar una ruta final de manera inteligente&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/2/library/os.path.html#os.path.dirname&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dirname()&lt;/code&gt;&lt;/a&gt; ‚Üí Devuelve el directorio del path dado
 &lt;code class=&quot;highlighter-rouge&quot;&gt;os.path.dirname('/Users/juanma/PROJECTS/PYTHON/demos/test.py')&lt;/code&gt; ‚Üí &lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/juanma/PROJECTS/PYTHON/demos&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/2/library/os.path.html#os.path.abspath&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;abspath()&lt;/code&gt;&lt;/a&gt; ‚Üí Devuelve la ruta absoluta y normalizada del path dado
 &lt;code class=&quot;highlighter-rouge&quot;&gt;os.path.abspath(__file__)&lt;/code&gt; ‚Üí &lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/juanma/PROJECTS/PYTHON/demos/test.py&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://docs.python.org/2/library/os.path.html#os.path.realpath&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;realpath()&lt;/code&gt;&lt;/a&gt; ‚Üí Devuelve la ruta canonica del archivo dado
 &lt;code class=&quot;highlighter-rouge&quot;&gt;os.path.realpath(__file__)&lt;/code&gt; ‚Üí &lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/juanma/PROJECTS/PYTHON/demos/test.py&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;¬øQu√© diferencia hay entre &lt;code class=&quot;highlighter-rouge&quot;&gt;abspath&lt;/code&gt; y &lt;code class=&quot;highlighter-rouge&quot;&gt;realpath&lt;/code&gt; si parece que producen el mismo resultado? No mucha, pero &lt;a href=&quot;https://stackoverflow.com/questions/37863476/why-use-both-os-path-abspath-and-os-path-realpath#40311142&quot;&gt;aqu√≠&lt;/a&gt; teneis una respuesta&lt;/p&gt;

&lt;p&gt;As√≠, este ejemplo&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;FILE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;REALPATH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;realpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ABSPATH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;DIRNAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;realpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__file__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{} &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\t\t\t\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ‚Üê __file__&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FILE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{} &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ‚Üê os.path.realpath(__file__)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;REALPATH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{} &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ‚Üê os.path.abspath(__file__)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ABSPATH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{} &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ‚Üê os.path.dirname(os.path.realpath(__file__))&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DIRNAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Nos devolver√° algo asi‚Ä¶&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;test.py 					 ‚Üê __file__
/Users/juanma/PROJECTS/PYTHON/demos/test.py 	 ‚Üê os.path.realpath&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/Users/juanma/PROJECTS/PYTHON/demos/test.py 	 ‚Üê os.path.abspath&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/Users/juanma/PROJECTS/PYTHON/demos 		 ‚Üê os.path.dirname&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;os.path.realpath&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;__file__&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;</content><author><name></name></author><category term="join" /><category term="dirname" /><category term="abspath" /><category term="realpath" /><category term="__file__" /><summary type="html">Utilizando la variable global __file__ podemos averiguar para cada archivo tanto el nombre del archivo en cuestion como el directorio en el que se encuentra (y su directorio padre)</summary></entry><entry><title type="html">Mostrando el contenido de globals() y locals()</title><link href="/mostrando-globals-locals/" rel="alternate" type="text/html" title="Mostrando el contenido de globals() y locals()" /><published>2018-03-22T12:21:18+01:00</published><updated>2018-03-22T12:21:18+01:00</updated><id>/mostrando-globals-locals</id><content type="html" xml:base="/mostrando-globals-locals/">&lt;p&gt;Para mostrar el contenido de &lt;code class=&quot;highlighter-rouge&quot;&gt;locals()&lt;/code&gt; y &lt;code class=&quot;highlighter-rouge&quot;&gt;globals()&lt;/code&gt; podemos hacer&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show_globals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;## GLOBALS ##&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;globals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{0} ‚Üí {1}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show_locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;## LOCALS ##&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{0} ‚Üí {1}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;globals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;show_globals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;show_locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;globals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;locals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Lo que nos devolver√° la lista de valores de ambos &lt;code class=&quot;highlighter-rouge&quot;&gt;namespaces&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;## GLOBALS ##&lt;/span&gt;
__name__ ‚Üí __main__
__doc__ ‚Üí None
__package__ ‚Üí None
__loader__ ‚Üí &amp;lt;_frozen_importlib_external.SourceFileLoader object at 0x1084ff390&amp;gt;
__spec__ ‚Üí None
__annotations__ ‚Üí &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;
__builtins__ ‚Üí &amp;lt;module &lt;span class=&quot;s1&quot;&gt;'builtins'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built-in&lt;span class=&quot;o&quot;&gt;)&amp;gt;&lt;/span&gt;
__file__ ‚Üí test5.py
__cached__ ‚Üí None
a ‚Üí 5
show_globals ‚Üí &amp;lt;&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;show_globals at 0x108483f28&amp;gt;
show_locals ‚Üí &amp;lt;&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;show_locals at 0x108ae1b70&amp;gt;

&lt;span class=&quot;c&quot;&gt;## LOCALS ##&lt;/span&gt;
a ‚Üí 5&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Algunos de estos valores del namespace global tienen usos interesantes como comento en otros posts&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;recursos&quot;&gt;Recursos&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/47996201&quot;&gt;https://stackoverflow.com/a/47996201&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="locals" /><category term="globals" /><summary type="html">Para mostrar el contenido de locals() y globals() podemos hacer</summary></entry><entry><title type="html">Variables locales y globales</title><link href="/entendiendo-locals-globals-con-exec/" rel="alternate" type="text/html" title="Variables locales y globales" /><published>2018-03-22T12:21:18+01:00</published><updated>2018-03-22T12:21:18+01:00</updated><id>/entendiendo-locals-globals-con-exec</id><content type="html" xml:base="/entendiendo-locals-globals-con-exec/">&lt;p&gt;Em Python cada archivo es un modulo que puede ser importado
Cada modulo tendr√° sus variables globales y locles&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Las variables globales seran accesibles desde cualquier funci√≥n.&lt;/li&gt;
  &lt;li&gt;Las variables locales s√≥lo seran accesibles desde el m√≥dulo o funci√≥n donde est√©n definidos.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La funci√≥n &lt;a href=&quot;https://docs.python.org/3.5/library/functions.html#globals&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;globals()&lt;/code&gt;&lt;/a&gt; devuelve el &lt;em&gt;namespace&lt;/em&gt; global, que es la relaci√≥n de elementos globales (variables y funciones) definidas para cada m√≥dulo (cada archivo) y accesible para las funciones definidas en √©l&lt;/p&gt;

&lt;p&gt;La funci√≥n &lt;a href=&quot;https://docs.python.org/3.5/library/functions.html#locals&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;locals()&lt;/code&gt;&lt;/a&gt; devuelve el &lt;em&gt;namespace&lt;/em&gt; local, que es la relaci√≥n de elementos globales (variables y funciones) definidas para una funci√≥n en concreto&lt;/p&gt;

&lt;h2 id=&quot;ejemplo1&quot;&gt;Ejemplo1&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 

&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;I love Paris in the summer!&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;La variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt; se define fuera (global). Al ejecutar &lt;code class=&quot;highlighter-rouge&quot;&gt;f()&lt;/code&gt; busca un &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt; local y como no lo encuentra utiliza el &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt; global  (&lt;code class=&quot;highlighter-rouge&quot;&gt;I love Paris in the summer!&lt;/code&gt;)&lt;/p&gt;

&lt;h2 id=&quot;ejemplo2&quot;&gt;Ejemplo2&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;I love London!&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;I love Paris!&quot;&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;La variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt; se define fuera (global). Al ejecutar &lt;code class=&quot;highlighter-rouge&quot;&gt;f()&lt;/code&gt; busca un &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt; local y como lo encuentra utiliza el valor del &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt; local (&lt;code class=&quot;highlighter-rouge&quot;&gt;I love London!&lt;/code&gt;)&lt;/p&gt;

&lt;h2 id=&quot;ejemplo3&quot;&gt;Ejemplo3&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Only in spring, but London is great as well!&quot;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;I am looking for a course in Paris!&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Tambien podemos especificar (con &lt;code class=&quot;highlighter-rouge&quot;&gt;global&lt;/code&gt;) dentro de la funci√≥n &lt;code class=&quot;highlighter-rouge&quot;&gt;f&lt;/code&gt; que queremos utilizar la variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt;. Al ejecutar &lt;code class=&quot;highlighter-rouge&quot;&gt;f()&lt;/code&gt; utilizar√° la variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt;, tanto para imprimir su valor como para asignarle nuevos valores&lt;/p&gt;

&lt;h2 id=&quot;ejemplo4&quot;&gt;Ejemplo4&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Las variables globales se limitan a cada modulo. Aunque en otro modulo hayamos definido la variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;msg&lt;/code&gt;, √©sta variable no existe para el resto. Si intentamos utilizar esta variable sin haberla definido, python lanzar√° un error&lt;/p&gt;

&lt;h2 id=&quot;ejemplo5&quot;&gt;Ejemplo5&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;example5.py&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello World!&quot;&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;example51&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;example51.py&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Las variables globales se limitan a cada modulo. Esto se aplica tambien para cuando importamos una funci√≥n. Si esta funci√≥n importada no tiene definida la variable en su archivo, dar√° error&lt;/p&gt;

&lt;h2 id=&quot;ejemplo6&quot;&gt;Ejemplo6&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;example6.py&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;example61&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;example61.py&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;example62&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;example62.py&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello World!&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Sin embargo, si que podemos importar sin problema variables y funciones definidas en otros archivos para ejecutarlos en otro lugar&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;br /&gt;
Aqui se pueden todos estos ejemplos testeados‚Ä¶&lt;/p&gt;

&lt;iframe height=&quot;400px&quot; width=&quot;100%&quot; src=&quot;https://repl.it/repls/ImperturbableDisloyalRule?lite=true&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allowtransparency=&quot;true&quot; allowfullscreen=&quot;true&quot; sandbox=&quot;allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;recursos&quot;&gt;Recursos&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/dean0x7d/df5ce97e4a1a05be4d56d1378726ff92&quot;&gt;https://gist.github.com/dean0x7d/df5ce97e4a1a05be4d56d1378726ff92&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="locals" /><category term="globals" /><category term="variables" /><category term="scope" /><category term="namespace" /><summary type="html">Em Python cada archivo es un modulo que puede ser importado Cada modulo tendr√° sus variables globales y locles Las variables globales seran accesibles desde cualquier funci√≥n. Las variables locales s√≥lo seran accesibles desde el m√≥dulo o funci√≥n donde est√©n definidos.</summary></entry><entry><title type="html">Deteccion llamadas como m√≥dulo con __name__</title><link href="/deteccion-modulo-__name__/" rel="alternate" type="text/html" title="Deteccion llamadas como m√≥dulo con __name__" /><published>2018-03-20T12:21:18+01:00</published><updated>2018-03-20T12:21:18+01:00</updated><id>/deteccion-modulo-__name__</id><content type="html" xml:base="/deteccion-modulo-__name__/">&lt;p&gt;Un tema interesante en python es el valor de la variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;__name__&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;A cada archivo se le asigna un valor a la variable global &lt;code class=&quot;highlighter-rouge&quot;&gt;__name__&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'__main__'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'This program is being run by itself'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'I am being imported from another module'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Si el archivo se llama directamente adquiere el valor &lt;code class=&quot;highlighter-rouge&quot;&gt;__main__&lt;/code&gt;, si no adquiere otro valor&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;test.py&lt;/em&gt;&lt;/strong&gt;
&lt;img src=&quot;/assets/2018-03-20-deteccion-modulo-__name__/name-main.png&quot; alt=&quot;My helpful screenshot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Con esta l√≥gica podemos detectar si un archivo se ha llamado directamente o como m√≥dulo&lt;/p&gt;

&lt;div class=&quot;myvideo&quot;&gt;
   &lt;video style=&quot;display:block; width:100%; height:auto;&quot; autoplay=&quot;&quot; controls=&quot;&quot; loop=&quot;loop&quot;&gt;
       &lt;source src=&quot;/assets/2018-03-20-deteccion-modulo-__name__/python-main.mp4&quot; type=&quot;video/mp4&quot; /&gt;
   &lt;/video&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 id=&quot;recursos&quot;&gt;Recursos&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://ibiblio.org/g2swap/byteofpython/read/module-name.html&quot;&gt;http://ibiblio.org/g2swap/byteofpython/read/module-name.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/library/__main__.html&quot;&gt;https://docs.python.org/3/library/__main__.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="modulos" /><category term="deteccion" /><category term="__main__" /><summary type="html">Un tema interesante en python es el valor de la variable global __name__</summary></entry></feed>